<p-toast></p-toast>
<html>
    <body class="titulo">
        <h1>CHECK-OUT</h1>
    </body>
    <body class="subtitulos">
        <div class="p-field p-grid">
            <label for="cedula" class="p-col-fixed" style="width: 100px"
                >Cedula:</label
            >
            <div class="p-col">
                <p-inputNumber
                    inputId="inputnumber"
                    [(ngModel)]="cedula"
                ></p-inputNumber>
            </div>
            <div class="buttoncargar" id="botoncargar">
                <button
                    pButton
                    pRipple
                    type="button"
                    icon="pi pi-times-circle"
                    class="p-button-rounded p-button-danger"
                    (click)="reset()"
                ></button>
                <button (click)="buscar()">Cargar</button>
            </div>
        </div>
        <h2>Fechas de estadia</h2>
        <div class="p-fluid p-formgrid p-grid">
            <div class="p-field p-col">
                <label for="fechadeingreso">Fecha de ingreso:</label>
                <input
                    name="fechadeingreso"
                    [(ngModel)]="checkOut.fechaIngreso"
                    type="text"
                />
            </div>
            <div class="p-field p-col">
                <label for="diashospedados">Dias hospedados:</label>
                <input
                    name="diashospedados"
                    [(ngModel)]="checkOut.numeroDias"
                    type="text"
                />
            </div>
            <div class="p-field p-col">
                <label for="fechadeegreso">Fecha de egreso:</label>
                <input
                    *ngIf="checkOut != null"
                    [(ngModel)]="checkOut.fechaEgreso"
                    name="fechadeegreso"
                    type="text"
                />
            </div>
        </div>
        <div class="p-field p-grid">
            <label
                for="segundo nombre"
                class="p-col-fixed"
                style="width: 100px; font-size: larger"
                >Buscar Usuario:</label
            >
            <p-inputNumber
                inputId="inputnumber"
                [(ngModel)]="usuario"
            ></p-inputNumber>
            <button
                pButton
                pRipple
                type="button"
                icon="pi pi-search"
                class="p-button-rounded p-button-success"
                (click)="findUser()"
            ></button>
        </div>
        <div class="p-field p-grid">
            <label for="segundo nombre" class="p-col-fixed" style="width: 100px"
                >Cedula:</label
            >
            <div class="p-col">
                <input
                    [(ngModel)]="checkOut.persona.identificacion"
                    name="priNombre"
                    type="text"
                    disabled
                />
            </div>
        </div>
        <div class="p-field p-grid">
            <label for="primer nombre" class="p-col-fixed" style="width: 100px"
                >Primer nombre:</label
            >
            <div class="p-col">
                <input
                    [(ngModel)]="checkOut.persona.priNombre"
                    name="priNombre"
                    type="text"
                    disabled
                />
            </div>
        </div>
        <div class="p-field p-grid">
            <label for="primer nombre" class="p-col-fixed" style="width: 100px"
                >Segunda nombre:</label
            >
            <div class="p-col">
                <input
                    [(ngModel)]="checkOut.persona.segNombre"
                    name="priNombre"
                    type="text"
                    disabled
                />
            </div>
        </div>
        <div class="p-field p-grid">
            <label for="apellidos" class="p-col-fixed" style="width: 100px"
                >Primer apellido:</label
            >
            <div class="p-col">
                <input
                    name="apellido"
                    [(ngModel)]="checkOut.persona.priApellido"
                    type="text"
                    disabled
                />
            </div>
        </div>
        <div class="p-field p-grid">
            <label for="apellidos" class="p-col-fixed" style="width: 100px"
                >Segundo apellido:</label
            >
            <div class="p-col">
                <input
                    name="apellido"
                    [(ngModel)]="checkOut.persona.segApellido"
                    type="text"
                    disabled
                />
            </div>
        </div>
        <div class="p-field p-grid">
            <label for="ciudad" class="p-col-fixed" style="width: 100px"
                >Genero:</label
            >
            <div class="p-col">
                <input
                    [(ngModel)]="checkOut.persona.genero"
                    name="ciudad"
                    type="text"
                    disabled
                />
            </div>
        </div>
        <div class="p-field p-grid">
            <label for="direccion" class="p-col-fixed" style="width: 100px"
                >Direccion:</label
            >
            <div class="p-col">
                <input
                    [(ngModel)]="checkOut.persona.direccion"
                    name="direccion"
                    type="text"
                    disabled
                />
            </div>
        </div>
        <div class="p-field p-grid">
            <label for="email" class="p-col-fixed" style="width: 100px"
                >E-mail:</label
            >
            <div class="p-col">
                <input
                    [(ngModel)]="checkOut.persona.correo"
                    name="email"
                    type="text"
                    disabled
                />
            </div>
        </div>
        <div class="p-field p-grid">
            <label for="celular" class="p-col-fixed" style="width: 100px"
                >Celular:</label
            >
            <div class="p-col">
                <input
                    [(ngModel)]="checkOut.persona.telefono"
                    name="celular"
                    type="text"
                    disabled
                />
            </div>
        </div>
        <h2>Datos de la reservacion</h2>
        <div class="p-col-12 p-md-4">
            <div class="p-inputgroup">
                <button
                    type="button"
                    (click)="findHabitacion()"
                    pButton
                    pRipple
                    label="Buscar"
                ></button>
                <input
                    type="text"
                    pInputText
                    [(ngModel)]="numHabitacion"
                    placeholder="habitacion"
                    style="height: 49px"
                />
            </div>
        </div>
        <div class="card">
            <p-table responsiveLayout="scroll" [value]="habitacion">
                <ng-template pTemplate="header" let-columns>
                    <tr>
                        <th>Numero de habitacion</th>
                        <th>Tipo</th>
                        <th>Precio</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-product let-columns="columns">
                    <tr>
                        <td>{{ product.numHabitacion }}</td>
                        <td>{{ product.tipoHabitacion.nomTipoHabitacion }}</td>
                        <td>
                            {{
                                product.tipoHabitacion.precioHabitacion
                                    | currency: "USD"
                            }}
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
        <h2>Adeudos</h2>
        <div class="card">
            <button
                pButton
                pRipple
                type="button"
                label="agregar"
                (click)="addAdeudo()"
                class="p-button-rounded p-button-success"
            ></button>
            <button
                pButton
                pRipple
                type="button"
                label="calcular"
                (click)="calcular()"
                class="p-button-rounded p-button-warning"
                *ngIf="adeudos.length >= 1"
            ></button>
            <p-table [value]="adeudos" dataKey="id" responsiveLayout="scroll">
                <ng-template pTemplate="header">
                    <tr>
                        <th>servicio</th>
                        <th>precio unitario</th>
                        <th>importe</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-adeudo>
                    <tr>
                        <td pEditableColumn>
                            <p-cellEditor>
                                <ng-template pTemplate="input">
                                    <input
                                        pInputText
                                        type="text"
                                        [(ngModel)]="adeudo.servicioHabitacion"
                                    />
                                </ng-template>
                                <ng-template pTemplate="output">
                                    {{ adeudo.servicioHabitacion }}
                                </ng-template>
                            </p-cellEditor>
                        </td>
                        <td pEditableColumn>
                            <p-cellEditor>
                                <ng-template pTemplate="input">
                                    <input
                                        pInputText
                                        type="text"
                                        [(ngModel)]="adeudo.precioUnitario"
                                        required
                                    />
                                </ng-template>
                                <ng-template pTemplate="output">
                                    {{
                                        adeudo.precioUnitario | currency: "USD"
                                    }}
                                </ng-template>
                            </p-cellEditor>
                        </td>
                        <td pEditableColumn>
                            <p-cellEditor>
                                <ng-template pTemplate="input">
                                    <input
                                        pInputText
                                        [(ngModel)]="adeudo.importe"
                                    />
                                </ng-template>
                                <ng-template pTemplate="output">
                                    {{ adeudo.importe }}
                                </ng-template>
                            </p-cellEditor>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
        <h2>Metodo de pago</h2>
        <div class="p-fluid p-formgrid p-grid">
            <div class="p-field p-col">
                <label for="tipodepago">Fecha venta:</label>
                <input
                    [(ngModel)]="checkOut.ventas.fecVenta"
                    name="fechaVenta"
                    type="text"
                />
            </div>
            <div class="p-field p-col">
                <label for="numerodepago">Total venta:</label>
                <input
                    [(ngModel)]="checkOut.ventas.totalVente"
                    name="totalVenta"
                    type="text"
                    disabled
                />
            </div>
            <div class="p-field p-col">
                <label for="titular">Tipo pago:</label>
                <input
                    [(ngModel)]="pago.tipoPago"
                    name="tipoPago"
                    type="text"
                />
            </div>
            <div class="p-field p-col">
                <label for="monto">Fecha pago:</label>
                <input
                    [(ngModel)]="pago.fechaPago"
                    name="fechaPago"
                    type="text"
                />
            </div>
            <div class="p-field p-col">
                <label for="monto">Id transaccion:</label>
                <input
                    [(ngModel)]="pago.idTransaccion"
                    name="fechaPago"
                    type="text"
                />
            </div>
        </div>
        <div class="buttoncancelar">
            <button (click)="reset()" type="submit">Cancelar</button>
        </div>
        <div class="buttonguardar" id="botonguardar">
            <button (click)="guardar()" type="submit">Guardar</button>
        </div>
    </body>
</html>
